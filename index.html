<!DOCTYPE html>
<html>
<head>
    <title>fs.js demo</title>
    <script src="fs.js"></script>
    <link href="styles.css" rel="stylesheet">
</head>
<body>
<section>
    <ul>
        <li><p class="test-name">Read file as dataURL:</p><button onclick="test1();">Run</button><p id="test1"></p></li>
        <li><p class="test-name">Read file as text:</p><button onclick="test2();">Run</button><p id="test2"></p></li>
        <li><p class="test-name">Read file as binary string:</p><button onclick="test3();">Run</button><p id="test3"></p></li>
        <li><p class="test-name">Read file as buffer array:</p><button onclick="test4();">Run</button><p id="test4"></p></li>
        <li><p class="test-name">Read file that doesn't exists:</p><button onclick="test5();">Run</button><p id="test5"></p></li>
        <li><p class="test-name">Create file:</p><button onclick="test6();">Run</button><p id="test6"></p></li>
        <li><p class="test-name">Write text to file:</p><button onclick="test7();">Run</button><p id="test7"></p></li>
    </ul>
</section>
<script>
function test1()
{
    fs.readFileAsDataURL('test.zip',function(err,data)
    {
        if(err)
        {
            console.log(err);
            document.getElementById('test1').innerText="Failed with err: "+err.message();
        }
        else
        {
            console.log(data);
            document.getElementById('test1').innerText="Done: "+data;
        }
    });
}
function test2()
{
    fs.readFileAsText('test.txt',function(err,data)
    {
        if(err)
        {
            console.log(err);
            document.getElementById('test2').innerText="Failed with err: "+err.message();
        }
        else
        {
            console.log(data);
            document.getElementById('test2').innerText="Done: "+data;
        }
    });
}
function test3()
{
    fs.readFileAsBinaryString('test.txt',function(err,data)
    {
        if(err)
        {
            console.log(err);
            document.getElementById('test3').innerText="Failed with err: "+err.message();
        }
        else
        {
            console.log(data);
            document.getElementById('test3').innerText="Done: "+data;
        }
    });
}
function test4()
{
    fs.readFileAsArrayBuffer('test.txt',function(err,data)
    {
        if(err)
        {
            console.log(err);
            document.getElementById('test4').innerText="Failed with err: "+err.message();
        }
        else
        {
            console.log(data);
            document.getElementById('test4').innerText="Done: "+data;
        }
    });
}
function test5()
{
    fs.readFileAsText('fake.file',function(err,data)
    {
        if(err)
        {
            console.log(err);
            document.getElementById('test5').innerText="Failed with err: "+err.message();
        }
        else
        {
            console.log(data);
            document.getElementById('test5').innerText="Done: "+data;
        }
    });
}
function test6()
{
    fs.createFile('new_file.txt',function(err,data)
    {
        if(err)
        {
            console.log(err);
            document.getElementById('test6').innerText="Failed with err: "+err.message();
        }
        else
        {
            console.log(data);
            document.getElementById('test6').innerText="Done: "+data.name;
        }
    });
}
function test7()
{
    fs.writeText('new_file_with_text.txt','Line1\r\nLine2',function(err,data)
    {
        if(err)
        {
            console.log(err);
            document.getElementById('test7').innerText="Failed with err: "+err.message();
        }
        else
        {
            console.log(data);
            document.getElementById('test7').innerText="Done";
        }
    });
}
</script>
</body>
</html>